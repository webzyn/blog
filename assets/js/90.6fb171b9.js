(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{361:function(t,a,s){"use strict";s.r(a);var e=s(13),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_1-页面事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-页面事件"}},[t._v("#")]),t._v(" 1. 页面事件")]),t._v(" "),a("h2",{attrs:{id:"_1-1-下拉刷新事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下拉刷新事件"}},[t._v("#")]),t._v(" 1.1 下拉刷新事件")]),t._v(" "),a("ul",[a("li",[t._v("手指在屏幕上"),a("code",[t._v("下拉滑动")]),t._v(",从而"),a("code",[t._v("重新加载页面数据")])])]),t._v(" "),a("h3",{attrs:{id:"_1-1-1-启用下拉刷新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-启用下拉刷新"}},[t._v("#")]),t._v(" 1.1.1 启用下拉刷新")]),t._v(" "),a("ul",[a("li",[t._v("① 全局开启下拉刷新\n"),a("ul",[a("li",[t._v("在 app.json 的 window 节点中，将 enablePullDownRefresh 设置为 true")])])]),t._v(" "),a("li",[t._v("② 局部开启下拉刷新\n"),a("ul",[a("li",[t._v("在页面的.json 配置文件中，将 enablePullDownRefresh 设置为 true")])])])]),t._v(" "),a("h3",{attrs:{id:"_1-1-2-配置下拉刷新窗口的样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-配置下拉刷新窗口的样式"}},[t._v("#")]),t._v(" 1.1.2 配置下拉刷新窗口的样式")]),t._v(" "),a("ul",[a("li",[t._v("在全局或页面的.json 配置文件中，通过 "),a("code",[t._v("backgroundColor")]),t._v(" 和 "),a("code",[t._v("backgroundTextStyle")]),t._v(" 来配置下拉刷新窗口的样式，其中:\n"),a("ul",[a("li",[a("code",[t._v("backgroundColor")]),t._v(" 用来配置下拉刷新"),a("code",[t._v("窗口的背景颜色")]),t._v("，仅支持 16 进制的颜色值")]),t._v(" "),a("li",[a("code",[t._v("backgroundTextStyle")]),t._v(" 用来配置下拉刷新 "),a("code",[t._v("loading")]),t._v(" 的样式，仅支持 dark 和 light")])])])]),t._v(" "),a("h3",{attrs:{id:"_1-1-3-监听页面的下拉刷新事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-监听页面的下拉刷新事件"}},[t._v("#")]),t._v(" 1.1.3 监听页面的下拉刷新事件")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#%E5%8F%82%E6%95%B0",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#%E5%8F%82%E6%95%B0"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("在页面的.js 文件中，通过"),a("code",[t._v("onPullDownRefresh()")]),t._v("函数即可监听当前页面的下拉刷新事件。")])]),t._v(" "),a("h3",{attrs:{id:"_1-1-4-停止下拉刷新的效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4-停止下拉刷新的效果"}},[t._v("#")]),t._v(" 1.1.4 停止下拉刷新的效果")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.stopPullDownRefresh.html#onPullDownRefresh",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.stopPullDownRefresh.html#onPullDownRefresh"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("当处理完下拉刷新后，下拉刷新的 loading 效果会一直显示，"),a("code",[t._v("不会主动消失")]),t._v("，所以需要手动隐藏 loading 效果。此时，调用 "),a("code",[t._v("wx.stopPullDownRefresh()")]),t._v("可以停止当前页面的下拉刷新。示例")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Page")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPullDownRefresh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下拉了"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPullDownRefresh")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h2",{attrs:{id:"_1-2-上拉触底"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-上拉触底"}},[t._v("#")]),t._v(" 1.2 上拉触底")]),t._v(" "),a("ul",[a("li",[t._v("通过手指在屏幕上的"),a("code",[t._v("上拉滑动")]),t._v("操作，从而"),a("code",[t._v("加载更多数据")]),t._v("的行为")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-1-监听页面的上拉触底事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-监听页面的上拉触底事件"}},[t._v("#")]),t._v(" 1.2.1 监听页面的上拉触底事件")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onReachBottom",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onReachBottom"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[t._v("在页面的.js 文件中，通过 "),a("code",[t._v("onReachBottom()")]),t._v("函数即可监听当前页面的上拉触底事件")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-2-配置上拉触底距离"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-配置上拉触底距离"}},[t._v("#")]),t._v(" 1.2.2 配置上拉触底距离")]),t._v(" "),a("ul",[a("li",[t._v("可以在 "),a("code",[t._v("app.json 的 window")]),t._v(" 选项中或"),a("code",[t._v("页面配置")]),t._v("中设置触发距离 "),a("code",[t._v("onReachBottomDistance")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);